// æ•°ç»„å’Œå‘é‡æ¼”ç¤ºæ¨¡å—

// æ•°ç»„æ¼”ç¤º
pub fn array_demo() {
    println!("=== æ•°ç»„æ¼”ç¤º ===");
    
    // åˆ›å»ºæ•°ç»„çš„å‡ ç§æ–¹å¼
    let a = [1, 2, 3, 4, 5]; // ç±»å‹æ¨æ–­
    let b: [i32; 5] = [1, 2, 3, 4, 5]; // æ˜¾å¼ç±»å‹å£°æ˜
    let c = [3; 5]; // åˆ›å»ºåŒ…å«5ä¸ª3çš„æ•°ç»„
    
    println!("æ•°ç»„ a: {:?}", a);
    println!("æ•°ç»„ b: {:?}", b);
    println!("æ•°ç»„ c: {:?}", c);
    
    // è®¿é—®æ•°ç»„å…ƒç´ 
    println!("ç¬¬ä¸€ä¸ªå…ƒç´ : {}", a[0]);
    println!("æœ€åä¸€ä¸ªå…ƒç´ : {}", a[a.len() - 1]);
    
    // æ•°ç»„é•¿åº¦
    println!("æ•°ç»„é•¿åº¦: {}", a.len());
}

// å‘é‡æ¼”ç¤º
pub fn vector_demo() {
    println!("=== å‘é‡æ¼”ç¤º ===");
    
    // åˆ›å»ºå‘é‡çš„å‡ ç§æ–¹å¼
    let mut v1 = Vec::new(); // ç©ºå‘é‡
    let v2 = vec![1, 2, 3, 4, 5]; // ä½¿ç”¨å®åˆ›å»º
    let mut v3: Vec<i32> = Vec::new(); // æ˜¾å¼ç±»å‹å£°æ˜
    
    // å‘å‘é‡æ·»åŠ å…ƒç´ 
    v1.push(1);
    v1.push(2);
    v1.push(3);
    
    v3.push(10);
    v3.push(20);
    v3.push(30);
    
    println!("å‘é‡ v1: {:?}", v1);
    println!("å‘é‡ v2: {:?}", v2);
    println!("å‘é‡ v3: {:?}", v3);
    
    // è®¿é—®å‘é‡å…ƒç´ 
    println!("v2 çš„ç¬¬ä¸€ä¸ªå…ƒç´ : {}", v2[0]);
    println!("v2 çš„æœ€åä¸€ä¸ªå…ƒç´ : {}", v2[v2.len() - 1]);
    
    // ä½¿ç”¨ get æ–¹æ³•å®‰å…¨è®¿é—®
    match v2.get(2) {
        Some(value) => println!("v2[2] = {}", value),
        None => println!("ç´¢å¼•è¶…å‡ºèŒƒå›´"),
    }
    
    // å‘é‡é•¿åº¦å’Œå®¹é‡
    println!("v2 é•¿åº¦: {}", v2.len());
    println!("v2 å®¹é‡: {}", v2.capacity());
}

// åˆ‡ç‰‡æ¼”ç¤º
pub fn slice_demo() {
    println!("=== åˆ‡ç‰‡æ¼”ç¤º ===");
    
    let data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    
    // åˆ›å»ºåˆ‡ç‰‡
    let slice1 = &data[0..5]; // å‰5ä¸ªå…ƒç´ 
    let slice2 = &data[5..]; // ä»ç¬¬5ä¸ªå…ƒç´ åˆ°æœ«å°¾
    let slice3 = &data[2..7]; // ä»ç¬¬2ä¸ªåˆ°ç¬¬6ä¸ªå…ƒç´ 
    let slice4 = &data[..]; // æ•´ä¸ªæ•°ç»„çš„åˆ‡ç‰‡
    
    println!("åŸæ•°ç»„: {:?}", data);
    println!("åˆ‡ç‰‡ [0..5]: {:?}", slice1);
    println!("åˆ‡ç‰‡ [5..]: {:?}", slice2);
    println!("åˆ‡ç‰‡ [2..7]: {:?}", slice3);
    println!("åˆ‡ç‰‡ [..]: {:?}", slice4);
    
    // å­—ç¬¦ä¸²åˆ‡ç‰‡
    let s = String::from("Hello, World!");
    let hello = &s[0..5];
    let world = &s[7..12];
    
    println!("åŸå­—ç¬¦ä¸²: {}", s);
    println!("åˆ‡ç‰‡ 'Hello': {}", hello);
    println!("åˆ‡ç‰‡ 'World': {}", world);
}

// ä¸»æ¼”ç¤ºå‡½æ•°
pub fn arrays_demo() {
    println!("ğŸ“Š æ•°ç»„å’Œå‘é‡æ¼”ç¤º");
    println!("================================");
    
    array_demo();
    println!();
    
    vector_demo();
    println!();
    
    slice_demo();
    println!();
    
    println!("ğŸ’¡ æ€»ç»“ï¼š");
    println!("  - æ•°ç»„ï¼šå›ºå®šé•¿åº¦ï¼Œæ ˆä¸Šåˆ†é…");
    println!("  - å‘é‡ï¼šåŠ¨æ€é•¿åº¦ï¼Œå †ä¸Šåˆ†é…");
    println!("  - åˆ‡ç‰‡ï¼šå¯¹æ•°ç»„æˆ–å‘é‡çš„å¼•ç”¨");
    println!("  - ç´¢å¼•ä»0å¼€å§‹ï¼Œä½¿ç”¨[]è®¿é—®å…ƒç´ ");
}
